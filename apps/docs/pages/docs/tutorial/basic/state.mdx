# State Tracking

We will walk through a complete example which shows how to setup Trrack for pure state-based provenance tracking.

We start by creating our initial state:

```ts
const state = {
  counter: 0,
};
```

Then we initialize the registry and register an state-update action which increments the counter with a value:

```ts
const registry = Registry.create();

const incrementAction = registry.register('increment', (state, val) => {
  state.counter += val;
});
```

We can use the `state` and `registry` to initialize Trrack as follows:

```ts
const trrack = initializeTrrack({
  initialState: state,
  registry,
});
```

We can trigger updates to state by using `incrementAction` as follows:

```ts
trrack.apply('Increment by 1', incrementAction(1));
```

Here is a sandbox which shows state based provenance trracking.

<iframe
  src="https://codesandbox.io/embed/trrack-simple-example-em2hem?fontsize=14&hidenavigation=1&theme=dark"
  style={{
    width: '100%',
    height: '500px',
    border: 0,
    borderRadius: '4px',
    overflow: 'hidden',
  }}
  title="Trrack Simple Example"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
></iframe>

[![Edit Trrack Pure State Tracking Example](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/trrack-simple-example-em2hem?fontsize=14&hidenavigation=1&theme=dark)

```

```
